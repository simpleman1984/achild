webpackJsonp([1],{"1/oy":function(t,s){},"9M+g":function(t,s){},"GL+X":function(t,s,i){"use strict";function e(t){i("IXUt")}var o=i("pQbI"),n=i("uClc"),a=i("VU/8"),c=e,r=a(o.a,n.a,!1,c,"data-v-391500cf",null);s.a=r.exports},GfHa:function(t,s){},IXUt:function(t,s){},Id91:function(t,s){},M93x:function(t,s,i){"use strict";function e(t){i("y0Ez")}var o=i("xJD8"),n=i("bLqv"),a=i("VU/8"),c=e,r=a(o.a,n.a,!1,c,null,null);s.a=r.exports},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),o=i("e6fC"),n=i("M93x"),a=i("YaEn"),c=i("qb6w"),r=(i.n(c),i("9M+g"));i.n(r);e.a.use(o.a),e.a.config.productionTip=!1,new e.a({el:"#app",router:a.a,template:"<App/>",components:{App:n.a}})},YaEn:function(t,s,i){"use strict";var e=i("7+uW"),o=i("/ocq"),n=i("GL+X");e.a.use(o.a),s.a=new o.a({routes:[{path:"/",name:"Draw",component:n.a}]})},bLqv:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],n={render:e,staticRenderFns:o};s.a=n},pQbI:function(t,s,i){"use strict";var e,o=i("Zrlr"),n=i.n(o),a=i("wxAW"),c=i.n(a),r=function(){function t(s,i){n()(this,t),this.c=s,this.app=i,this.ctx=this.c.getContext("2d"),this.mouseDown=!1,this.mouseX=0,this.mouseY=0,this.tempHistory=[],this.setSize(),this.listen(),this.redraw()}return c()(t,[{key:"listen",value:function(){var t=this,s=function(s){var i=s.offsetX||s.touches[0].clientX,e=s.offsetY||s.touches[0].clientY;t.mouseDown=!0,t.mouseX=i,t.mouseY=e,t.setDummyPoint()},i=function(s){var i=s.offsetX||s.touches[0].clientX,e=s.offsetY||s.touches[0].clientY;if(t.moveMouse(s),t.mouseDown){t.mouseX=t.mouseX,t.mouseY=t.mouseY,t.app.options.restrictX||(t.mouseX=i),t.app.options.restrictY||(t.mouseY=e);var o={isDummy:!1,x:t.mouseX,y:t.mouseY,c:t.app.color,r:t.app.size};t.app.history.push(o),t.draw(o,t.app.history.length)}},e=function(s){t.mouseDown&&t.setDummyPoint(),t.mouseDown=!1},o=function(s){t.mouseDown&&t.setDummyPoint(),t.mouseDown=!1};this.c.addEventListener("touchstart",s),this.c.addEventListener("touchmove",i),this.c.addEventListener("mousedown",s),this.c.addEventListener("mouseup",e),this.c.addEventListener("mouseleave",o),this.c.addEventListener("mousemove",i),window.addEventListener("resize",function(){t.setSize(),t.redraw()})}},{key:"setSize",value:function(){this.c.width=window.innerWidth,this.c.height=window.innerHeight-60}},{key:"moveMouse",value:function(t){var s=t.offsetX||t.touches[0].clientX,i=t.offsetY||t.touches[0].clientY;document.getElementById("cursor").style.transform="translate("+(s-10)+"px, "+(i-10)+"px)"}},{key:"getDummyItem",value:function(){var t=this.app.history[this.app.history.length-1];return t||(t={x:-1,y:-1}),{isDummy:!0,x:t.x,y:t.y,c:null,r:null}}},{key:"setDummyPoint",value:function(){var t=this.getDummyItem();this.app.history.push(t),this.draw(t,this.app.history.length)}},{key:"redraw",value:function(){var t=this;if(this.ctx.clearRect(0,0,this.c.width,this.c.height),this.drawBgDots(),!this.app.history.length)return!0;this.app.history.forEach(function(s,i){t.draw(s,i)})}},{key:"drawBgDots",value:function(){this.ctx.fillStyle="rgba(0, 0, 0, .2)";for(var t=0;50*t<this.c.width;t++)for(var s=0;50*s<this.c.height;s++)t>0&&s>0&&(this.ctx.beginPath(),this.ctx.rect(50*t,50*s,2,2),this.ctx.fill(),this.ctx.closePath())}},{key:"draw",value:function(t,s){this.ctx.lineCap="round",this.ctx.lineJoin="round";var i=this.app.history[s-2];if(s<2)return!1;t.isDummy||this.app.history[s-1].isDummy||i.isDummy?t.isDummy||(this.ctx.strokeStyle=t.c,this.ctx.lineWidth=t.r,this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke(),this.ctx.closePath()):(this.ctx.strokeStyle=t.c,this.ctx.lineWidth=t.r,this.ctx.beginPath(),this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke(),this.ctx.closePath())}}]),t}();s.a={name:"hello",mounted:function(){this.showCanvas()},data:function(){return{options:{restrictY:!1,restrictX:!1},history:[],color:"13c5f7",size:12,popups:{showColor:!1,showSize:!1,showSave:!1,showOptions:!1},save:{name:"",saveItems:[]},colors:["#d4f713","#13f7ab","#13f3f7","#13c5f7","#138cf7","#1353f7","#2d13f7","#7513f7","#a713f7","#d413f7","#f713e0","#f71397","#f7135b","#f71313","#f76213","#f79413","#f7e013"],sizes:[6,12,24,48],weights:[2,4,6]}},methods:{showCanvas:function(){e=new r(this.$refs.canvas,this)},removeHistoryItem:function(){this.history.splice(this.history.length-2,1),e.redraw()},removeAllHistory:function(){this.history=[],e.redraw()},simplify:function(){var t=[];this.history.forEach(function(s,i){(i%6!=1||s.isDummy)&&t.push(s)}),this.history=t,e.redraw()},jumble:function(){this.history.forEach(function(t,s){t.r+=5*Math.sin(20*s)}),this.history=this.shuffle(this.history),e.redraw()},shuffle:function(t){var s=[];t.forEach(function(t,i){if(!t.isDummy){var e=s.length,o=Math.floor(e*Math.random());s.splice(o,0,t)}});for(var i=0;i<s.length;i++)i%20==1&&s.push(e.getDummyItem());return s},saveItem:function(){if(this.save.name.length>2){var t={history:this.history.slice(),name:this.save.name};this.save.saveItems.push(t),this.save.name=""}},loadSave:function(t){console.info(t),this.history=t.history.slice(),e.redraw()}}}},qb6w:function(t,s){},uClc:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"app-wrapper"},[i("canvas",{ref:"canvas",attrs:{id:"canvas"}}),t._v(" "),i("div",{staticClass:"cursor",attrs:{id:"cursor"}}),t._v(" "),i("div",{staticClass:"controls"},[i("div",{staticClass:"btn-row"},[i("div",{staticClass:"history",attrs:{title:"history"}},[t._v("\n        "+t._s(t.history.length)+"\n      ")])]),t._v(" "),i("div",{staticClass:"btn-row"},[i("button",{class:{disabled:!t.history.length},attrs:{type:"button",title:"Undo"},on:{click:t.removeHistoryItem}},[i("i",{staticClass:"ion ion-reply"})]),t._v(" "),i("button",{class:{disabled:!t.history.length},attrs:{type:"button",title:"Clear all"},on:{click:t.removeAllHistory}},[i("i",{staticClass:"ion ion-trash-a"})])]),t._v(" "),i("div",{staticClass:"btn-row"},[i("button",{attrs:{title:"Brush options"},on:{click:function(s){t.popups.showOptions=!t.popups.showOptions}}},[i("i",{staticClass:"ion ion-android-create"})]),t._v(" "),t.popups.showOptions?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-title"},[t._v("\n          Options\n        ")]),t._v(" "),i("button",{class:{active:t.options.restrictY},attrs:{title:"Restrict movement vertical"},on:{click:function(s){t.options.restrictY=!t.options.restrictY,t.options.restrictX=!1}}},[i("i",{staticClass:"ion ion-arrow-right-c"}),t._v("\n          Restrict vertical\n        ")]),t._v(" "),i("button",{class:{active:t.options.restrictX},attrs:{title:"Restrict movement horizontal"},on:{click:function(s){t.options.restrictX=!t.options.restrictX,t.options.restrictY=!1}}},[i("i",{staticClass:"ion ion-arrow-up-c"}),t._v("\n          Restrict horizontal\n        ")]),t._v(" "),i("button",{class:{disabled:!t.history.length},attrs:{type:"button",title:"Simplify paths"},on:{click:t.simplify}},[i("i",{staticClass:"ion ion-wand"}),t._v("\n          Simplify paths\n        ")]),t._v(" "),i("button",{class:{disabled:!t.history.length},attrs:{type:"button",title:"Go nutz"},on:{click:t.jumble}},[i("i",{staticClass:"ion ion-shuffle"}),t._v("\n          Go nutz\n        ")])]):t._e()]),t._v(" "),i("div",{staticClass:"btn-row"},[i("button",{class:{active:t.popups.showSize},attrs:{title:"Pick a brush size"},on:{click:function(s){t.popups.showSize=!t.popups.showSize}}},[i("i",{staticClass:"ion ion-android-radio-button-on"}),t._v(" "),i("span",{staticClass:"size-icon"},[t._v("\n          "+t._s(t.size)+"\n        ")])]),t._v(" "),t.popups.showSize?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-title"},[t._v("\n          Brush size\n        ")]),t._v(" "),t._l(t.sizes,function(s){return i("label",{staticClass:"size-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],attrs:{type:"radio",name:"size"},domProps:{value:s,checked:t._q(t.size,s)},on:{change:function(i){t.size=s}}}),t._v(" "),i("span",{staticClass:"size",style:{width:s+"px",height:s+"px"},on:{click:function(s){t.popups.showSize=!t.popups.showSize}}})])})],2):t._e()]),t._v(" "),i("div",{staticClass:"btn-row"},[i("button",{class:{active:t.popups.showColor},attrs:{title:"Pick a color"},on:{click:function(s){t.popups.showColor=!t.popups.showColor}}},[i("i",{staticClass:"ion ion-android-color-palette"}),t._v(" "),i("span",{staticClass:"color-icon",style:{backgroundColor:t.color}})]),t._v(" "),t.popups.showColor?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-title"},[t._v("\n          Brush color\n        ")]),t._v(" "),t._l(t.colors,function(s){return i("label",{staticClass:"color-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],attrs:{type:"radio",name:"color"},domProps:{value:s,checked:t._q(t.color,s)},on:{change:function(i){t.color=s}}}),t._v(" "),i("span",{class:"color color-"+s,style:{backgroundColor:s},on:{click:function(s){t.popups.showColor=!t.popups.showColor}}})])})],2):t._e()]),t._v(" "),i("div",{staticClass:"btn-row",staticStyle:{display:"none"}},[i("button",{attrs:{title:"Save"},on:{click:function(s){t.popups.showSave=!t.popups.showSave}}},[i("i",{staticClass:"ion ion-android-cloud-outline"})]),t._v(" "),t.popups.showSave?i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-title"},[t._v("\n          Save your design\n        ")]),t._v(" "),i("div",{staticClass:"form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.save.name,expression:"save.name"}],attrs:{type:"text",placeholder:"Save name"},domProps:{value:t.save.name},on:{input:function(s){s.target.composing||t.$set(t.save,"name",s.target.value)}}}),t._v(" "),t.save.name.length<3?i("div",{staticClass:"text-faded"},[i("i",[t._v("\n              Min 3 characters\n            ")])]):t._e(),t._v(" "),i("span",{staticClass:"btn",on:{click:t.saveItem}},[t._v("\n            Save as\n            "),i("span",{staticClass:"text-faded"},[t._v(" \n              "+t._s(t.save.name)+"\n            ")])])]),t._v(" "),t.save.saveItems.length?i("div",{staticClass:"saves"},[i("div",{staticClass:"popup-title"},[t._v("\n            Load a save\n          ")]),t._v(" "),t._l(t.save.saveItems,function(s){return i("div",{staticClass:"save-item"},[i("h3",[t._v(t._s(s.name))]),t._v(" "),i("span",{staticClass:"btn",on:{click:function(i){t.loadSave(s)}}},[t._v("load")])])})],2):t._e()]):t._e()])])])},o=[],n={render:e,staticRenderFns:o};s.a=n},xJD8:function(t,s,i){"use strict";s.a={name:"app"}},y0Ez:function(t,s){},zj2Q:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.6c4636fe932039b776b0.js.map